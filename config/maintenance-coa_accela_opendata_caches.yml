sql:
- name: TRUNCATE TABLE coagis.coa_accela_opendata_cache 
  text: TRUNCATE TABLE coagis.coa_accela_opendata_cache;
  values:
- name: update coagis.coa_accela_opendata_cache
  text: insert into coagis.coa_accela_opendata_cache (SELECT objectid::integer as objectid, record_id::character varying(30) as record_id, record_name::character varying(255) as record_name, date_opened::timestamp(6) without time zone as date_opened, record_module::character varying(30) as record_module, record_status::character varying(30) as record_status, record_status_date::timestamp(6) without time zone as record_status_date, record_type::character varying(255) as record_type, address::character varying(233) as address, balance_due::double precision as balance_due, date_assigned::timestamp(6) without time zone as date_assigned, date_closed::timestamp(6) without time zone as date_closed, date_completed::timestamp(6) without time zone as date_completed, date_statused::timestamp(6) without time zone as date_statused, description::character varying(4000) as description, job_value::double precision as job_value, record_type_group::character varying(30) as record_type_group, record_type_category::character varying(30) as record_type_category, record_type_type::character varying(30) as record_type_type, record_type_subtype::character varying(30) as record_type_subtype, short_notes::character varying(255) as short_notes, status::character varying(30) as status, apn::character varying(24) as apn, parcel_number::character varying(24) as parcel_number, license_number::character varying(30) as license_number, business_name::character varying(255) as business_name,   regexp_replace(record_comments::character varying(50000),       E'\[0-9]{3}[.-]{0,1}[0-9]{4}',       'REDACTED PHONE NUMBER', 'g')::character varying(50000)  as record_comments,  shape::geometry as shape, st_Y(st_transform(shape,4326))::numeric(38,8)  as latitude, st_X(st_transform(shape,4326))::numeric(38,8)  as longitude FROM coagis.coa_accela_opendata_view) ;
  values:
- name: truncate table coagis.coa_accela_inspections_cache
  text: truncate table coagis.coa_accela_inspections_cache;
  values:
- name: update coa_accela_inspections_cache 
  text: insert into coagis.coa_accela_inspections_cache (SELECT objectid::integer as objectid, record_id::character varying(30) as record_id, inspection_id::bigint as inspection_id, record_name::character varying(255) as record_name, date_opened::timestamp(6) without time zone as date_opened, record_module::character varying(30) as record_module, record_status::character varying(30) as record_status, record_status_date::timestamp(6) without time zone as record_status_date, record_type::character varying(255) as record_type, comments_results::character varying(4000) as comments_results, inspection_date::timestamp(6) without time zone as inspection_date, request_date::timestamp(6) without time zone as request_date, scheduled_date::timestamp(6) without time zone as scheduled_date, inspection_type::character varying(255) as inspection_type, inspector::character varying(212) as inspector, result_type::character varying(30) as result_type, inspection_score::double precision as inspection_score, address::character varying(233) as address, st_Y(st_transform(shape,4326))::numeric(38,8)  as latitude, st_X(st_transform(shape,4326))::numeric(38,8)  as longitude, inspection_status::character varying(30) as inspection_status, apn::character varying(24) as apn, parcel_number::character varying(24) as parcel_number, license_nbr::character varying(30) as license_nbr, business_name::character varying(255) as business_name,   regexp_replace(record_comments::character varying(50000),       E'\[0-9]{3}[.-]{0,1}[0-9]{4}',       'REDACTED PHONE NUMBER', 'g')::character varying(50000)  as record_comments,         shape::geometry as shape FROM coagis.coa_accela_inspections_view);
  values:
